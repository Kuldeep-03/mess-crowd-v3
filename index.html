<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Mess Crowd Predictor</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<h1>ğŸ½ï¸ Smart Mess Crowd Management</h1>

<div class="top-controls">
  <button onclick="toggleAdmin()">ğŸ” Admin Login</button>
  <button onclick="toggleDark()">ğŸŒ™ Dark Mode</button>
</div>

<div class="card inputs">
  <label>Meal Type</label>
  <select id="meal">
    <option>Breakfast</option>
    <option>Lunch</option>
    <option>Dinner</option>
  </select>

  <label>Queue Length</label>
  <select id="queue">
    <option>Low</option>
    <option>Medium</option>
    <option>High</option>
  </select>

  <label>Seats Occupied (%)</label>
  <input type="number" id="seats" value="60">

  <label>Service Speed</label>
  <select id="service">
    <option>Fast</option>
    <option>Moderate</option>
    <option>Slow</option>
  </select>

  <label>Queue Defaulters</label>
  <select id="defaulters">
    <option>Low</option>
    <option>Medium</option>
    <option>High</option>
  </select>

  <label>Average Eating Time (minutes)</label>
  <input type="number" id="eatTime" value="10">

  <button onclick="runPrediction()">Predict</button>
</div>

<div class="card output">
  <div id="skeleton" class="skeleton hidden"></div>

  <div id="result" class="hidden">
    <div id="decisionBadge" class="decision-badge"></div>

    <p id="oneLine" class="summary"></p>

    <h2>
      <span id="mliValue">0</span>%
      <span id="trendArrow"></span>
    </h2>

    <p id="details"></p>
    <p id="forecast"></p>
    <p id="confidenceText" class="confidence"></p>

    <span class="tooltip">
      ğŸ¤– Why this prediction?
      <span class="tooltip-text" id="aiTip"></span>
    </span>

    <div class="timestamp" id="timestamp"></div>
  </div>
</div>

<div id="toast" class="toast hidden"></div>

<hr class="soft-separator">

<div class="card chart-card">
  <h3>ğŸ“ˆ Congestion Trend</h3>
  <canvas id="mliChart"></canvas>
</div>

<div class="card chart-card">
  <h3>ğŸ”® Short-Term Forecast</h3>
  <canvas id="forecastChart"></canvas>
</div>

<div class="card chart-card">
  <h3>ğŸ”¥ Congestion Heatmap</h3>
  <canvas id="heatmap"></canvas>
</div>

<div class="card">
  <h3>â±ï¸ Recommended Wait</h3>
  <div class="wait-bar"><div id="waitFill"></div></div>
  <p id="waitText"></p>
</div>

<div class="card">
  <h3>ğŸ“· Share Live Status</h3>
  <img id="qr">
</div>

<div class="card admin">
  <h2>ğŸ› ï¸ Admin Dashboard</h2>
  <pre id="adminSummary">No data yet</pre>
  <p id="adminInsight"></p>
  <button onclick="exportCSV()">â¬‡ï¸ Export CSV</button>
</div>

<div id="adminModal" class="modal">
  <div class="modal-box">
    <h3>ğŸ” Admin Login</h3>
    <input type="password" id="adminPass" placeholder="Password">
    <button onclick="adminLogin()">Login</button>
    <p id="adminError"></p>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>

</body>
</html>
