<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart Mess Crowd Predictor</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>ğŸ½ï¸ Smart Mess Crowd Management</h1>

<!-- ===== ADMIN LOGIN TOGGLE ===== -->
<div class="admin-login">
  <button onclick="toggleAdmin()">ğŸ” Admin Login</button>
</div>

<!-- ===== USER INPUT ===== -->
<div class="inputs">

  <label>Meal Type</label>
  <select id="meal">
    <option>Breakfast</option>
    <option>Lunch</option>
    <option>Dinner</option>
  </select>

  <label>Queue Length</label>
  <select id="queue">
    <option>Low</option>
    <option>Medium</option>
    <option>High</option>
  </select>

  <label>Seats Occupied (%)</label>
  <input type="number" id="seats" value="60" min="0" max="100">

  <label>Service Speed</label>
  <select id="service">
    <option>Fast</option>
    <option>Moderate</option>
    <option>Slow</option>
  </select>

  <label>Queue Defaulters</label>
  <select id="defaulters">
    <option>Low</option>
    <option>Medium</option>
    <option>High</option>
  </select>

  <label>Average Eating Time (minutes)</label>
  <input type="number" id="eatTime" value="10" min="5" max="20">

  <button onclick="runPrediction()">Predict</button>
</div>

<!-- ===== OUTPUT ===== -->
<div class="output">
  <h2 id="level"></h2>
  <p id="details"></p>
  <p id="forecast"></p>
</div>

<!-- ===== GRAPHS ===== -->
<div class="output">
  <h3>ğŸ“ˆ Congestion Trend</h3>
  <canvas id="mliChart"></canvas>
</div>

<div class="output">
  <h3>ğŸ”® Short-Term Forecast</h3>
  <canvas id="forecastChart"></canvas>
</div>

<!-- ===== WAIT TIME ===== -->
<div class="output">
  <h3>â±ï¸ Recommended Wait Time</h3>
  <div class="wait-bar">
    <div id="waitFill"></div>
  </div>
  <p id="waitText"></p>
</div>

<!-- ===== HEATMAP ===== -->
<div class="output">
  <h3>ğŸ”¥ Congestion Heatmap</h3>
  <canvas id="heatmap"></canvas>
</div>

<!-- ===== QR SHARE ===== -->
<div class="output">
  <h3>ğŸ“· Share Live Status</h3>
  <img id="qr">
</div>

<!-- ===== ADMIN DASHBOARD ===== -->
<div class="admin">
  <h2>ğŸ› ï¸ Admin Dashboard</h2>
  <pre id="adminSummary">No data yet</pre>
  <button onclick="exportCSV()">â¬‡ï¸ Export Daily CSV</button>
</div>

<!-- ===== SCRIPTS ===== -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="script.js"></script>

</body>
</html>
